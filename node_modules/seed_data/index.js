var _ = require('lodash');

module.exports = {
    objects: require('./builtSeedData.js'),
    mongoId: function (seedObjectName) {
        try {
            return String(require('./builtSeedData')[seedObjectName].data._id);
        }
        catch (e) {
            throw new Error(
                "No object labelled in spec with key " +
                seedObjectName +
                " or object has incorrect format (it needs a .data property)"
            );
        }
    },
    objectFromSpecId: function (seedObjectName) {
        try {
            return require('./builtSeedData')[seedObjectName].data;
        }
        catch (e) {
            throw new Error(
                "No object labelled in spec with key " +
                seedObjectName +
                " or object has incorrect format (it needs a .data property)"
            );
        }
    },
    objectFromMongoId: function (mongoId) {
        try {
            return _.find(this.objects, function (object) {
                return object.data._id == mongoId;
            }).data;
        }
        catch (e) {
            throw new Error(
                "No object with mongo _id " +
                mongoId +
                " or object in incorrect format (needs a .data property)"
            );
        }
    }
};